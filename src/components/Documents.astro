---
import DocIcon from "./DocIcon.astro";

// Get all PDFs in a specific folder
const pdfFiles = import.meta.glob('../assets/docs/*.pdf', { eager: true });

// Transform the object into an array we can map over
const pdfs = Object.entries(pdfFiles).map(([path, file]) => {
  return {
    name: path.split('/').pop(), // Get the file name (e.g. "document.pdf")
    url: (file as any).default, // The processed URL of the PDF
  };
});
---

<ul>
  {pdfs.map(({ name, url }) => (
    <li>
      <a href={url} target="_blank" rel="noopener noreferrer">
        <DocIcon />
        {name}
      </a>
    </li>
  ))}
</ul>

<style>
  ul {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
  }

  li a {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
    color: var(--color-dark-grey);
    font-weight: bold;
    font-size: 1.2rem;
  }

  li a:hover {
    color: var(--color-medium-blue);
  }

  svg {
    stroke: var(--color-dark-grey);
    width: 1.5rem;
    height: 1.5rem;
  }
</style>