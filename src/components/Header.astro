---
import EuLogo from '@components/EuLogo.astro';
import ProjectTitle from '@components/ProjectTitle.astro';
import LocaleSelector from './LocaleSelector.astro';

const { homeLocale: home } = Astro.locals; // Get the home function with language support from the context
---
<header>
    <LocaleSelector class="locale-selector" />
    <a href={`${home()}#top`}>
        <ProjectTitle includeLogo={true} includeSubtitle={true} class="project-title" />
    </a>
    <EuLogo />
    <nav aria-label="Main navigation">
        <ul>
            <li><a href={`${home()}#top`}>Welcome</a></li>
            <li><a href={`${home()}#objectives`}>Objectives</a></li>
            <li><a href={`${home()}#organisers`}>Partners</a></li>
            <li><a href={`${home()}#resources`}>Resources</a></li>
        </ul>
    </nav>
</header>
<style>
    header {
        display: flex;
        position: relative;
        flex-wrap: wrap;
        align-items: center;
        padding: 1rem;
        gap: 2rem;
        background-color: var(--color-dark-blue);
        --color-text: var(--color-semi-transparent-white);
        --color-subtitle: var(--color-text);
    }

    .locale-selector {
        /* Place it on the top right corner, but still inside the header */
        position: absolute;
        top: 0;
        right: 0;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        background-color: var(--color-dark-blue);
        transition: background-color 0.2s ease;
        color: var(--color-semi-transparent-white);
    }

    .project-title {
        font-size: 1.5rem;
    }

    nav > ul {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        list-style: none;
        padding: 0;
        margin: 0;
    }

    nav {
        margin-inline-start: auto;
    }

    @media (max-width: 1343px) {
        header {
            justify-content: center;
            gap: 1rem;
        }
        nav {
            margin-inline-start: 0;
            width: 100%;
        }
    }

    @media (max-width: 700px) {
        .project-title {
            font-size: 1.35rem;
            padding-top: 0.5rem;
        }
    }

    @media (max-width: 369px) {
        .project-title {
            font-size: 1.25rem;
            padding-top: 1.5rem;
        }
    }

    nav a {
        color: var(--color-semi-transparent-white);
        font-size: 1.5rem;
        text-decoration: none;
        font-weight: bold;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        transition: color 0.2s ease, background-color 0.2s ease;
    }

    nav a:hover,
    nav a:focus-visible {
        color: white;
        background-color: rgba(255, 255, 255, 0.1);
    }
</style>
