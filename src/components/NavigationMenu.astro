---
import { Icon } from 'astro-icon/components';
import '@styles/dropdown-selector.css';

const { homeLocale: home } = Astro.locals;

interface Props {
  class?: string;
  [key: string]: any;
}

const { class: className, ...attributes } = Astro.props;
---

<div class:list={["nav-wrapper dropdown-wrapper", className]} {...attributes}>
    <!-- Mobile Trigger (Hamburger) -->
    <button class="hamburger-btn dropdown-trigger" aria-label="Toggle navigation">
        <Icon name="hamburger" width="32" height="32" aria-hidden="true" />
    </button>

    <!-- Menu Items (Row on Desktop, Dropdown on Mobile) -->
    <nav aria-label="Main navigation" class="nav-content dropdown-menu">
        <ul class="dropdown-list">
            <li><a class="dropdown-link" href={`${home()}#top`}>Welcome</a></li>
            <li><a class="dropdown-link" href={`${home()}#objectives`}>Objectives</a></li>
            <li><a class="dropdown-link" href={`${home()}#organisers`}>Organisers</a></li>
            <li><a class="dropdown-link" href={`${home()}#resources`}>Resources</a></li>
        </ul>
    </nav>
</div>

<style>
    /* --- Desktop/Tablet Overrides (Disable dropdown behavior) --- */
    @media (min-width: 791px) {
        .hamburger-btn {
            display: none;
        }

        .nav-content.dropdown-menu {
            display: block; /* Always visible */
            position: static;
            background: transparent;
            border: none;
            box-shadow: none;
            padding: 0;
        }

        .dropdown-list {
            flex-direction: row;
            gap: 1.5rem;
        }
    }

    /* --- Mobile Overrides are handled by dropdown-selector.css + Header grid positioning --- */
</style>